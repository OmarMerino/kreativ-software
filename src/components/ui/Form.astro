---
import { Image } from "astro:assets";
import decorForm from "../../assets/logo2.png";
---
<div
  class="flex flex-col lg:flex-row relative justify-start items-center p-[60px] bg-[#ffff] rounded-[45px] overflow-hidden"
>
  <!-- Formulario -->
  <form class="bg-[#ffff] sm:p-6 h-full w-full lg:max-w-lg">
    <div class="mb-4">
      <label for="name" class="block text-black mb-2">Nombre</label>
      <input
        type="text"
        id="name"
        name="name"
        placeholder="Nombre"
        class="w-full px-[30px] py-[18px] border border-black rounded-[14px] text-black outline-none"
      />
    </div>

    <div class="mb-4">
      <label for="email" class="block text-black mb-2">Email*</label>
      <input
        type="email"
        id="email"
        name="email"
        placeholder="Email"
        class="w-full px-[30px] py-[18px] border border-black rounded-[14px] text-black outline-none"
      />
    </div>

    <div class="mb-4">
      <label for="number" class="block text-black mb-2">Numero telefónico</label>
      <input
        type="number"
        id="number"
        name="number"
        placeholder="+56 9 XXXXXXXX"
        class="w-full px-[30px] py-[18px] border border-black rounded-[14px] text-black outline-none"
      />
    </div>

    <div class="mb-4">
      <label for="message" class="block text-black mb-2">Mensaje*</label>
      <textarea
        id="message"
        name="message"
        placeholder="Escríbenos"
        class="w-full px-[30px] py-[18px] border border-black rounded-[14px] text-black outline-none"
      ></textarea>
    </div>

    <button type="submit" name="submit" class="btn-primary w-full">Enviar</button>
  </form>

  <!-- Imagen decorativa -->
  <picture class="mt-6 lg:mt-0 lg:ml-8 w-full lg:w-auto">
    <Image src={ decorForm} alt="decor" class="w-full h-auto object-cover" />
  </picture>
</div>


<script>
  function formSetup() {
    var cb1 = document.getElementById("checkbox1") as HTMLInputElement;
    var cb2 = document.getElementById("checkbox2") as HTMLInputElement;
    var message = document.getElementById("message") as HTMLInputElement;

    if (cb1 && cb2) {
      cb1.checked = true;

      cb2.addEventListener("change", function () {
        if (cb2.checked) {
          cb1.checked = false;
          message.value =
            "We're interested in your services! Please contact us";
        } else {
          message.value = "";
          cb1.checked = true;
        }
      });
      cb1.addEventListener("change", function () {
        if (cb1.checked) {
          cb2.checked = false;
          message.value = "";
        } else {
          cb2.checked = true;
          message.value =
            "We're interested in your services! Please contact us";
        }
      });
    }
  }

  formSetup();
  document.addEventListener("astro:after-swap", formSetup);
</script>
