---
import { Image } from "astro:assets";
import decorForm from "../../assets/logo2.png";
---

<div
  class="flex flex-col lg:flex-row relative justify-start items-center p-8 bg-[#ffff] rounded-2xl overflow-hidden"
>
  <!-- Formulario -->
  <form class="bg-[#ffff] sm:p-4 h-full w-full lg:max-w-lg">
    <div class="mb-3">
      <label for="name" class="block text-black mb-1 text-sm">Nombre</label>
      <input
        type="text"
        id="name"
        name="name"
        placeholder="Nombre"
        class="w-full px-3 py-2 border border-black rounded-md text-black outline-none text-sm"
      />
    </div>

    <div class="mb-3">
      <label for="email" class="block text-black mb-1 text-sm">Email*</label>
      <input
        type="email"
        id="email"
        name="email"
        placeholder="Email"
        class="w-full px-3 py-2 border border-black rounded-md text-black outline-none text-sm"
      />
    </div>

    <div class="mb-3">
      <label for="number" class="block text-black mb-1 text-sm"
        >Número telefónico</label
      >
      <input
        type="number"
        id="number"
        name="number"
        placeholder="+56 9 XXXXXXXX"
        class="w-full px-3 py-2 border border-black rounded-md text-black outline-none text-sm"
      />
    </div>

    <div class="mb-3">
      <label for="message" class="block text-black mb-1 text-sm">Mensaje*</label
      >
      <textarea
        id="message"
        name="message"
        placeholder="Escríbenos"
        class="w-full px-3 py-5 border border-black rounded-md text-black outline-none text-sm"
      ></textarea>
    </div>

    <button type="submit" name="submit" class="btn-primary w-full text-sm py-4"
      >Enviar</button
    >
  </form>

  <iframe
    class="px-5 ml-5"
    src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3202.990885020802!2d-72.10667582452129!3d-36.60252857230404!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x9668d7d0c244229b%3A0xf4f0beb1bc26c26f!2sCarrera%20257%2C%203800410%20Chill%C3%A1n%2C%20%C3%91uble!5e0!3m2!1ses!2scl!4v1734576596824!5m2!1ses!2scl"
    width="400"
    height="300"
    style="border:0;"
    allowfullscreen=""
    loading="lazy"
    referrerpolicy="no-referrer-when-downgrade"
  >
  </iframe>
</div>

<script>
  function formSetup() {
    var cb1 = document.getElementById("checkbox1") as HTMLInputElement;
    var cb2 = document.getElementById("checkbox2") as HTMLInputElement;
    var message = document.getElementById("message") as HTMLInputElement;

    if (cb1 && cb2) {
      cb1.checked = true;

      cb2.addEventListener("change", function () {
        if (cb2.checked) {
          cb1.checked = false;
          message.value =
            "We're interested in your services! Please contact us";
        } else {
          message.value = "";
          cb1.checked = true;
        }
      });
      cb1.addEventListener("change", function () {
        if (cb1.checked) {
          cb2.checked = false;
          message.value = "";
        } else {
          cb2.checked = true;
          message.value =
            "We're interested in your services! Please contact us";
        }
      });
    }
  }

  formSetup();
  document.addEventListener("astro:after-swap", formSetup);
</script>
