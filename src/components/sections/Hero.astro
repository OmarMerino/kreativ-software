---
import { Image } from "astro:assets";
import HeroIlust from "../../assets/pics/hero-pic.png";
import Section from "./Section.astro";
---

<Section id="home">
  <div
    class="grid grid-cols-1 grid-template md:grid-cols-2 md:grid-rows-1 mt-[135px]"
  >
    <div id="mctr" class="relative flex flex-col w-full lg:w-[66.5%]">
      <h1 class="">Navigating the digital landscape for success</h1>
      <h1 id="mask" class="absolute mask">
        Creating a <span class="text-green">powerful image</span> for your brand
      </h1>
    </div>
    <picture class="row-span-1 md:row-span-3">
      <Image src={HeroIlust} alt="Hero Ilustration" loading="eager" />
    </picture>
    <div class="w-full lg:w-[66.5%]">
      <p class="my-[35px]">
        Our digital marketing agency helps businesses grow and succeed online
        through a range of services including SEO, PPC, social media marketing,
        and content creation.
      </p>
      <a
        class="btn-primary inline-block no-underline transition-transform hover:scale-105 cursor-pointer"
        href="https://calendly.com/woi-koiso/30min"
        target="_blank"
      >
        Book a consultation
      </a>
    </div>
  </div>
</Section>
<style>
  .grid-template {
    grid-template-rows: auto 1fr;
  }
  .mask {
    mask-image: url("/mask.svg");
    background: black;
    mask-repeat: no-repeat;
    mask-size: 300px;
    color: var(--white);
  }
</style>
<script>
  import gsap from "gsap";

  const mask = document.getElementById("mask");

  const positionCursor = (e: MouseEvent) => {
    const rect = mask?.getBoundingClientRect() as DOMRect;
    const x = e.clientX - rect.left - 150;
    const y = e.clientY - rect.top - 150;

    gsap.to(mask, {
      webkitMaskPosition: `${x}px ${y}px`,
      ease: "back.out",
    });
  };

  window.addEventListener("mousemove", positionCursor);
</script>
